<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="Y0C1UF4FAEedNCMjLTIm48uKmKyrqhZta6vAU7kQ_kw" />

    

    
    
    

    <title>FAQ | tus</title>

    <link rel="shortcut icon" href="/assets/img/favicon.png">
    <link rel="apple-touch-icon" href="/assets/img/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="/assets/build/vendors~app.7b5ef8790937472c1a8f.93659b28b0a28ca6ceea.chunk.css" rel="stylesheet"><link href="/assets/build/app.3dc1af8eebe2a036c4e7.css" rel="stylesheet">
    <link type="application/atom+xml" rel="alternate" href="https://tus.io/blog.atom" />

    <!-- Twitter follow button script -->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </head>

  <body>
    
    
    

    <div class="wrapper">
      <div class="TransloaditBar">
        <div class="container">
          <div class="TransloaditBar-about">
            <!-- <a class="TransloaditBar-logo" href="https://transloadit.com/" target="_blank" rel="noopener">
              <img class="TransloaditBar-logoImg" src="/assets/img/transloadit-white-glyph.svg" width="20" height="20" alt="Transloadit">
            </a>
            <span>tus is an open source project by <a class="TransloaditBar-link" href="https://transloadit.com/" target="_blank">Transloadit</a></span> -->
            <img width="24" height="16" src="/assets/img/ua-flag.svg" alt="Flag of Ukraine">
             
            We stand with the brave people of Ukraine. Stop the war. Find out <a class="TransloaditBar-link" href="https://transloadit.com/blog/2022/02/ukraine" target="_blank" rel="noopener">how you can help</a>.
          </div>
          <!-- <div class="TransloaditBar-info">
            <b>New: </b><a href="https://transloadit.com/pricing/" class="TransloaditBar-info-link">Transloadit Community Plan</a> — get free hosted Companion &amp; tusd, unlimited uploading, and 5GB/month encoding traffic!
          </div> -->
        </div>
      </div>

      <div class="header">
        <a href="https://github.com/tus" class="github-corner" aria-label="View source on GitHub"><svg width="64" height="64" viewbox="0 0 250 250" style="fill:#48aa92; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

        <div class="container">
          <div class="row">
            <div class="three columns logo-container">
              <h3 class="logo">
                <a href="/">
                  
                    <img src="/assets/img/favicon.png" class="shield" alt="tus">
                  

                  <img src="/assets/img/tus8.png" alt="tus">
                </a>
              </h3>
            </div>

            <div class="nine columns nav-container">
              <a href="#" class="toggler">
                <span class="hamburger">≡</span>
                <span class="cross">✕</span>
              </a>

              <ul class="nav">
                
                  
                  
                  
                  
                  <li class="active">
                    <a data-pageurlhtml="/faq.html.html" href="/faq.html">FAQ</a>
                  </li>
                
                  
                  
                  
                  
                  <li class="">
                    <a data-pageurlhtml="/faq.html.html" href="/support.html">Support</a>
                  </li>
                
                  
                  
                  
                  
                  <li class="">
                    <a data-pageurlhtml="/faq.html.html" href="/blog.html">Blog</a>
                  </li>
                
                  
                  
                  
                  
                  <li class="">
                    <a data-pageurlhtml="/faq.html.html" href="/demo.html">Demo</a>
                  </li>
                
                  
                  
                  
                  
                  <li class="">
                    <a data-pageurlhtml="/faq.html.html" href="/protocols/resumable-upload.html">Protocol</a>
                  </li>
                
                  
                  
                  
                  
                  <li class="">
                    <a data-pageurlhtml="/faq.html.html" href="/implementations.html">Implementations</a>
                  </li>
                
                <li class="github-menu-item"><a href="https://github.com/tus">GitHub</a></li>
              </ul>

              <div class="u-cf"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="content">
        
          <div class="container">
        

          <h1 id="faq">FAQ</h1>

<p class="lead">Here are some Frequently Asked Questions and their answers. This document is still a work in progress and is being re-written as we speak. If you have any questions or topics you would like to see covered, <a href="/support.html">let us know</a>!</p>

<div class="kramdown-toc">
<ul id="markdown-toc">
  <li><a href="#what-is-tus" id="markdown-toc-what-is-tus">What is tus?</a></li>
  <li><a href="#when-should-i-use-tus" id="markdown-toc-when-should-i-use-tus">When should I use tus?</a></li>
  <li><a href="#how-do-i-install-tus-and-get-started" id="markdown-toc-how-do-i-install-tus-and-get-started">How do I install tus and get started?</a></li>
  <li><a href="#how-does-tus-work" id="markdown-toc-how-does-tus-work">How does tus work?</a></li>
  <li><a href="#how-do-i-integrate-tus-into-my-application" id="markdown-toc-how-do-i-integrate-tus-into-my-application">How do I integrate tus into my application?</a></li>
  <li><a href="#how-do-i-scale-tus" id="markdown-toc-how-do-i-scale-tus">How do I scale tus?</a></li>
  <li><a href="#how-can-i-deal-with-bad-http-proxies" id="markdown-toc-how-can-i-deal-with-bad-http-proxies">How can I deal with bad HTTP proxies?</a></li>
  <li><a href="#how-are-pauseresume-handled-when-should-i-delete-partial-uploads" id="markdown-toc-how-are-pauseresume-handled-when-should-i-delete-partial-uploads">How are pause/resume handled? When should I delete partial uploads?</a></li>
  <li><a href="#how-can-i-get-the-file-name-or-file-type-for-an-upload" id="markdown-toc-how-can-i-get-the-file-name-or-file-type-for-an-upload">How can I get the file name or file type for an upload?</a></li>
  <li><a href="#why-is-the-protocol-using-custom-headers" id="markdown-toc-why-is-the-protocol-using-custom-headers">Why is the protocol using custom headers?</a></li>
  <li><a href="#why-are-you-not-using-the-x--prefix-for-your-headers" id="markdown-toc-why-are-you-not-using-the-x--prefix-for-your-headers">Why are you not using the “X-“ prefix for your headers?</a></li>
  <li><a href="#what-does-tus-even-mean" id="markdown-toc-what-does-tus-even-mean">What does “tus” even mean?</a></li>
</ul>

</div>

<h2 id="what-is-tus">What is tus?</h2>

<p>tus is a project aiming to make resumable file uploads easily usable and widely available. The most interesting parts of this project are the <a href="/protocols/resumable-upload.html">protocol specification</a> and the many freely available <a href="/implementations.html">client and server implementations</a>.</p>

<p>When we say “resumable file uploads”, we refer to the ability that uploads can be interrupted at any time and afterward be resumed from the state where the failure began. This interruption can be accidentally (e.g., a connection drop or a server crash) or voluntarily if the user decides to pause the upload. In traditional uploading implementations, your progress would be lost in such a situation, but tus enables you to recover from these interruptions and continue where the upload was stopped.</p>

<p>On a more technical note, the tus protocol is built upon HTTP/HTTPS to make it available on every platform including browsers, desktop software, and mobile applications. Furthermore, it also allows us to build upon the massive ecosystem and best practices that HTTP provides.</p>

<h2 id="when-should-i-use-tus">When should I use tus?</h2>

<p>If you are unsure whether tus is a good fit for your use case, here is a list of criteria. If one of these points applies to you, you could likely benefit from tus:</p>

<ul>
  <li>You operate on partly unreliable networks where a connection can get easily dropped or a connection may not be available at all for some time, e.g., when using mobile data.</li>
  <li>You handle large files and want to avoid having to reupload parts of it, just because the upload got interrupted (Note: “large” is a relative word. A 10MB file can be large if you have an uplink speed of 100KB/s).</li>
  <li>You want to provide your users with the ability to pause an upload and resume it later (maybe even after a few days).</li>
  <li>You do not want to rely on proprietary upload solutions but instead, prefer to build upon free and open source projects.</li>
</ul>

<p>Having that said, there are also a few situations where you might not want to use tus. This is mainly in scenarios where you handle many very small files (a few KBs) on a slow network and where the overhead of additional HTTP requests would significantly impact the performance. If you want us to assist you in your decision-making, <a href="/support.html">contact us</a> and we are happy to give you some advice.</p>

<h2 id="how-do-i-install-tus-and-get-started">How do I install tus and get started?</h2>

<p>You’ll need a:</p>

<ul>
  <li>server implementation (you can read how to <a href="https://github.com/tus/tusd/#documentation">get started with tusd</a>, which is the most mature option), and a:</li>
  <li>client implementation (such as the bare-bones <a href="https://github.com/tus/tus-js-client#installation">tus-js-client</a> for browsers and Node.js, or if you need a rich UI, <a href="https://uppy.io/docs/#getting-started">Uppy</a>.</li>
</ul>

<p>Tus is a low-level building block and there’s no one right way to do deploy resumable file uploads with it. Still, to get started quickly for the majority of use cases, we recommend using tusd in combination with Uppy. The ecosystem is rich, however, and you’ll know it if one of our community-maintained client/server <a href="https://tus.io/implementations.html">implementations</a> in Ruby, Python, Elixir, etc., are a better fit for your platform.</p>

<p>Finally, if you don’t care for self-hosting tus servers, <a href="https://transloadit.com">Transloadit</a> offers a tus-based upload handling service that can export to the storage of your choice (and can optionally encode or resize files passing through). The setup steps are then to create an account and add an Uppy HTML tag to your website, or check out <a href="https://transloadit.com/docs/#sdks">non-browser client integrations</a>.</p>

<h2 id="how-does-tus-work">How does tus work?</h2>

<p>This section covers the more low-level details of how tus performs an upload. If you are using one of our open-source <a href="/implementations.html">implementations</a>, you don’t have to worry about these details but they may still be helpful to ease debugging and troubleshooting.</p>

<p>A tus upload is broken down into different HTTP requests, where each one has a different purpose:</p>

<ul>
  <li>At first, the client sends a <code class="language-plaintext highlighter-rouge">POST</code> request to the server to initiate the upload. This <em>upload creation request</em> tells the server basic information about the upload, such as its size or additional metadata. If the server accepts this upload creation request, it will return a successful response with the <code class="language-plaintext highlighter-rouge">Location</code> header set to the <em>upload URL</em>. The upload URL is used to uniquely identify and reference the newly-created upload resource.</li>
  <li>Once the upload has been created, the client can start to transmit the actual upload content by sending a <code class="language-plaintext highlighter-rouge">PATCH</code> request to the upload URL, as returned in the previous <code class="language-plaintext highlighter-rouge">POST</code> request. Ideally, this <code class="language-plaintext highlighter-rouge">PATCH</code> request should contain as much upload content as possible to minimize the upload duration. The <code class="language-plaintext highlighter-rouge">PATCH</code> request must also contain the <code class="language-plaintext highlighter-rouge">Upload-Offset</code> header, which tells the server at which byte offset the server should write the uploaded data. If the <code class="language-plaintext highlighter-rouge">PATCH</code> request successfully transfers the entirety of the upload content, then your upload is done!</li>
  <li>If the <code class="language-plaintext highlighter-rouge">PATCH</code> request got interrupted or failed for another reason, the client can attempt to resume the upload. To resume, the client must know how much data the server has received. This information is obtained by sending a <code class="language-plaintext highlighter-rouge">HEAD</code> request to the upload URL and inspecting the returned <code class="language-plaintext highlighter-rouge">Upload-Offset</code> header. Once the client knows the upload offset, it can send another <code class="language-plaintext highlighter-rouge">PATCH</code> request until the upload is completely done.</li>
  <li>Optionally, if the client wants to delete an upload because it won’t be needed anymore, a <code class="language-plaintext highlighter-rouge">DELETE</code> request can be sent to the upload URL. After this, the upload can be cleaned up by the server, and resuming the upload is not possible anymore.</li>
</ul>

<p>If you want to see these requests in action, you can head over to our <a href="/demo.html">demo</a> where the actual HTTP requests are shown on the page!</p>

<h2 id="how-do-i-integrate-tus-into-my-application">How do I integrate tus into my application?</h2>

<p>If you want to add tus to your application, you need a server and client component. For a quick start, we recommend having a look at our list of open-source <a href="/implementations.html">implementations</a>. The exact setup steps vary for each implementation, but the basic scheme is as follows:</p>

<p>The tus server is usually deployed alongside your main application server in its process. A proxy is then used to route the requests to either the tus server or your application server. The tus server usually stores the uploads on disk, but some servers (such as our reference implementation <a href="https://github.com/tus/tusd">tusd</a>) are also capable of storing the data directly on different cloud providers, such as AWS S3 or Google Cloud Storage.</p>

<p>Once you have a tus server set up, you can integrate the tus client into your client application. We offer tus clients for a variety of environments, including browsers, Android, iOS, Java and Node.js. If you want to add application-specific pieces of information to your upload, such as the current user’s ID, you can add them as key-value-pairs to the upload’s metadata. This metadata is then also available to the tus server for custom processing.</p>

<p>Finally, most tus servers offer a way to subscribe to specific events, such as if a new upload is created or finished. For example, <a href="https://github.com/tus/tusd">tusd</a> has a <a href="https://github.com/tus/tusd/blob/master/docs/hooks.md">hook system</a> that can be used to execute custom scripts or send HTTP requests if a specific event occurs. These can be used to move the completed uploads to another location and provide them with your application for further processing. It’s also possible to access the upload’s metadata set by the tus client in your client application inside these hooks.</p>

<h2 id="how-do-i-scale-tus">How do I scale tus?</h2>

<p>The tus protocol has been designed with scaling in mind to handle increasing numbers of connections and uploads. While the exact details vary for different server implementations, these are the basic concepts:</p>

<p>If multiple tus servers have a shared storage system (a network disk or cloud storage), they can be grouped together and placed behind a load balancer. You only need to ensure that there is no parallel access to a single upload resource from multiple tus servers. The implementations can achieve this in two ways:</p>

<ul>
  <li>If your application ensures that an upload is always accessed by only one client, you can enable sticky sessions for your load balancer. In this case, the HTTP requests for the client will always be routed to the same tus server that can handle the concurrency correctly.</li>
  <li>Alternatively, you can use a distributed lock (e.g., etcd or Redis) to ensure exclusive access to an upload resource. The lock must then be held as long as a server wants to retrieve or modify an upload resource.</li>
</ul>

<p>Let’s look at an example to see why this complex setup may be necessary. In our scenario, we have a single tus client and two tus servers, A and B, which are positioned behind a load balancer.</p>

<ol>
  <li>The client connects to server A through the load balancer and starts to upload data using a <code class="language-plaintext highlighter-rouge">PATCH</code> request.</li>
  <li>After some time, the connection between the client and server A is interrupted. The important detail here is that the client can know very quickly that the connection has been dropped while the server is unaware of this situation. The server is therefore still waiting for more upload data to be written to the upload resource.</li>
  <li>The client now wants to resume the upload, but connects to server B through the load balancer. If no locking were to be in place, server B and server A may write data to the same upload resource simultaneously leading to corrupt data.</li>
</ol>

<p>This can be prevented if either sticky sessions were enabled, so the client would have connected to server A again, or if a shared locking mechanism between the servers would be required.</p>

<h2 id="how-can-i-deal-with-bad-http-proxies">How can I deal with bad HTTP proxies?</h2>

<p>If you are dealing with HTTP proxies that strip/modify HTTP headers or can’t handle <code class="language-plaintext highlighter-rouge">PATCH</code> requests properly, you should consider using HTTPS. This will make it impossible for proxies to modify your requests and lets you use the <code class="language-plaintext highlighter-rouge">X-HTTP-Method-Override</code> header, which allows you to take advantage of <code class="language-plaintext highlighter-rouge">POST</code> requests.</p>

<p>If that is not an option for you, please reach out to us. We are open to defining a compatibility protocol extension.</p>

<h2 id="how-are-pauseresume-handled-when-should-i-delete-partial-uploads">How are pause/resume handled? When should I delete partial uploads?</h2>

<p>The tus protocol is built upon the principles of simple pausing and resuming. To pause an upload, you are allowed to end the current open request. The server will store the uploaded data as long as no violations against other constraints (e.g., checksums) or internal errors occur. Once you are ready to resume an upload, send a <code class="language-plaintext highlighter-rouge">HEAD</code> request to the corresponding upload URL to obtain the available offset. After receiving a valid response, you can upload more data using <code class="language-plaintext highlighter-rouge">PATCH</code> requests. You should keep in mind that the server may delete an unfinished upload if it is not continued for a long period (see <a href="/protocols/resumable-upload.html#expiration">Expiration</a> extension).</p>

<p>Before deleting an outstanding upload, the server should give the client enough time to resolve potential networking issues. Since this duration depends heavily on the underlying application model, the protocol does not contain a specific number, but we recommend one week for a general use case.</p>

<h2 id="how-can-i-get-the-file-name-or-file-type-for-an-upload">How can I get the file name or file type for an upload?</h2>

<p>The tus protocol does not have a direct mechanism to obtain the type or filename of an upload as the specification does not have the principle of a disk-based file, allowing you to upload arbitrary data using tus. However, the desired functionality can be achieved by utilizing metadata. A client can attach the file’s name and type to an upload when it’s being created by setting the <code class="language-plaintext highlighter-rouge">Upload-Metadata</code> header. On the other side, the server can read these values and determine the name and type of the upload.</p>

<h2 id="why-is-the-protocol-using-custom-headers">Why is the protocol using custom headers?</h2>

<p>We have carefully investigated the use of existing headers such as <code class="language-plaintext highlighter-rouge">Range</code> and <code class="language-plaintext highlighter-rouge">Content-Range</code>, but unfortunately, they are defined in a way that makes them unsuitable for resumable file uploads.</p>

<p>We also considered using existing <code class="language-plaintext highlighter-rouge">PATCH</code> payload formats such as <a href="http://greenbytes.de/tech/webdav/draft-ietf-httpbis-p5-range-latest.html#internet.media.type.multipart.byteranges">multipart/byteranges</a>, but unfortunately, the XHR2 <a href="http://www.w3.org/TR/XMLHttpRequest/#interface-formdata">FormData interface</a> does not support custom headers for multipart parts, and the <a href="http://www.w3.org/TR/XMLHttpRequest/#the-send-method">send() method</a> does not allow streaming arbitrary data without loading all of it into memory.</p>

<p>That being said, custom headers also allowed us to greatly simplify the client and server implementations, so we’re quite happy with them.</p>

<h2 id="why-are-you-not-using-the-x--prefix-for-your-headers">Why are you not using the “X-“ prefix for your headers?</h2>

<p>The “X-“ prefix for headers has been deprecated, see <a href="https://datatracker.ietf.org/doc/html/rfc6648">RFC 6648</a>.</p>

<h2 id="what-does-tus-even-mean">What does “tus” even mean?</h2>

<p>Historically it stood for <strong>T</strong>ransloadit <strong>U</strong>pload <strong>S</strong>erver, later repurposed to The Upload Server. But really, it’s just known now as tus. Often written in the lower casing as an homage to unix ancestry, and (when it was still an abbreviation) to desperately avoid yelling TUS in all caps. We used to insist on lowercasing, but have gotten more pragmatic from our encounters with journalists, who insist on it being Tus in their articles, and there’s not much we can do about it. So now we just say: write it however you feel like that day <img class="emoji" title=":smile:" alt=":smile:" src="/assets/img/emoji/unicode/1f604.png" height="20" width="20"></p>


        
          </div>
        
      </div>

      
        <div class="container comments">
          <div id="disqus_thread"></div>

          <script type="text/javascript">
              /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
              var disqus_shortname = 'tusio'; // required: replace example with your forum shortname
              var disqus_url = 'https://tus.io/faq.html';

              /* * * DON'T EDIT BELOW THIS LINE * * */
              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
          </script>

          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>

          <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
      
    </div>

    <script defer data-domain="tus.io" src="https://analytics.transloadit.com/js/plausible.js"></script>

    <script src="/assets/build/vendors~app.83a9f4d700aad6cc7d53.93659b28b0a28ca6ceea.chunk.js"></script><script src="/assets/build/app.4759fb056ce29631dcf5.js"></script>
  </body>
</html>
